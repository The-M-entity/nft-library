# =============================================================================
# Decap CMS Configuration - •M• NFT Library
# =============================================================================

backend:
  name: git-gateway
  branch: main

site_url: https://m-gen-library.netlify.app
display_url: https://m-gen-library.netlify.app
logo_url: /images/logo-m.png

locale: 'fr'

media_folder: "images"
public_folder: "/images"

slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

collections:
  - name: "nfts"
    label: "NFTs"
    label_singular: "NFT"
    description: "Gestion des NFTs de la bibliothèque •M•"
    folder: "data"
    create: true
    delete: true
    extension: "json"
    format: "json"
    slug: "{{slug}}"
    identifier_field: "title"
    summary: "{{collection}} | {{title}} [{{status}}]"
    sortable_fields: ["title", "date", "collection", "order"]
    view_groups:
      - label: "Collection"
        field: "collection"
      - label: "Blockchain"
        field: "blockchain"
      - label: "Statut"
        field: "status"
    view_filters:
      - label: "Publiés"
        field: "status"
        pattern: "published"
      - label: "Brouillons"
        field: "status"
        pattern: "draft"
      - label: "M-Vox"
        field: "collection"
        pattern: "M-Vox"
      - label: "M-Numeris"
        field: "collection"
        pattern: "M-Numeris"

    fields:
      - label: "Titre"
        name: "title"
        widget: "string"
        required: true
        hint: "Titre complet du NFT"

      - label: "Description courte"
        name: "description_short"
        widget: "text"
        required: true
        pattern: ['.{1,200}', "Maximum 200 caractères"]
        hint: "Affichée sur les cartes (max 200 caractères)"

      - label: "Description complète"
        name: "description_full"
        widget: "markdown"
        required: false
        hint: "Description détaillée pour la page de détail"

      - label: "Collection"
        name: "collection"
        widget: "string"
        default: "M-Vox"
        required: true
        hint: "Ex: M-Vox, M-Numeris, M-Genesis, etc."

      - label: "Blockchain"
        name: "blockchain"
        widget: "select"
        options:
          - { label: "Ethereum", value: "Ethereum" }
          - { label: "Polygon", value: "Polygon" }
        default: "Ethereum"
        required: true

      - label: "Tags"
        name: "tags"
        widget: "list"
        required: false
        hint: "Ex: Politique, Philosophie, Méthodologie"
        field:
          label: "Tag"
          name: "tag"
          widget: "string"

      - label: "Image NFT"
        name: "image"
        widget: "image"
        required: true
        media_folder: "/images"
        hint: "Image principale du NFT (PNG/JPG, 1000x1000px)"

      - label: "PDF Document"
        name: "pdf"
        widget: "file"
        required: true
        media_folder: "/pdfs"
        hint: "Fichier PDF gratuit à télécharger"

      - label: "Lien OpenSea"
        name: "opensea_url"
        widget: "string"
        required: false
        hint: "URL complète OpenSea"

      - label: "Date de publication"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        date_format: "DD/MM/YYYY"
        time_format: false
        default: ""
        required: true

      - label: "Statut"
        name: "status"
        widget: "select"
        options:
          - { label: "Publié", value: "published" }
          - { label: "Brouillon", value: "draft" }
        default: "draft"
        required: true

      - label: "Ordre d'affichage"
        name: "order"
        widget: "number"
        value_type: "int"
        min: 0
        default: 0
        required: false
        hint: "Plus petit = affiché en premier"

  - name: "pages"
    label: "Pages"
    description: "Contenu des pages statiques"
    files:
      - label: "À propos de •M•"
        name: "about"
        file: "data/about.json"
        fields:
          - label: "Titre"
            name: "title"
            widget: "string"
            default: "À propos de •M•"

          - label: "Introduction"
            name: "intro"
            widget: "markdown"
            hint: "Texte d'introduction"

          - label: "Vision"
            name: "vision"
            widget: "markdown"
            hint: "La vision du projet •M•"

          - label: "Mission"
            name: "mission"
            widget: "markdown"
            hint: "La mission du projet •M•"

          - label: "Lien LENID"
            name: "lenid_url"
            widget: "string"
            required: false
            hint: "URL vers le projet LENID"

          - label: "Explication Balance Éthique"
            name: "balance_ethique"
            widget: "markdown"
            hint: "Explication de la philosophie"

      - label: "Paramètres du site"
        name: "settings"
        file: "data/settings.json"
        fields:
          - label: "Nom du site"
            name: "site_name"
            widget: "string"
            default: "•M• NFT Library"

          - label: "Tagline"
            name: "tagline"
            widget: "string"
            default: "Souveraineté numérique"

          - label: "Email de contact"
            name: "contact_email"
            widget: "string"
            required: false

          - label: "Twitter/X"
            name: "twitter_url"
            widget: "string"
            required: false

          - label: "OpenSea Collection"
            name: "opensea_collection_url"
            widget: "string"
            required: false
